<Window x:Class="CMCS.ReportsWindow"
       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
       Title="Reports - CMCS" 
       Height="650" Width="1100"
       WindowStartupLocation="CenterScreen"
       Background="#FF2D2D30">

   <Grid>
       <!-- Navigation Sidebar (Coordinator version) -->
       <Border Width="220" Background="#FF252526" HorizontalAlignment="Left">
           <StackPanel>
               <StackPanel Margin="15,20" HorizontalAlignment="Center">
                   <TextBlock Text="&#xE1E4;" FontFamily="Segoe UI Symbol" FontSize="30" Foreground="#FF4ECDC4" HorizontalAlignment="Center"/>
                   <TextBlock Text="CMCS" Foreground="White" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,5"/>
                   <TextBlock Text="Coordinator Portal" Foreground="#FFADADAD" FontSize="11" HorizontalAlignment="Center"/>
               </StackPanel>

               <Separator Background="#FF3E3E42" Margin="10,0"/>

               <StackPanel Margin="10,20">
                   <Button Content="Dashboard" Style="{StaticResource NavButtonStyle}" Click="btnDashboard_Click"/>
                   <Button Content="Pending Claims" Style="{StaticResource NavButtonStyle}" Click="btnPending_Click"/>
                   <Button Content="Approved Claims" Style="{StaticResource NavButtonStyle}" Click="btnApproved_Click"/>
                   <Button Content="Reports" Style="{StaticResource NavButtonStyle}" Background="#FF4ECDC4" Foreground="Black"/>
                   <Button Content="Profile" Style="{StaticResource NavButtonStyle}" Click="btnProfile_Click"/>
               </StackPanel>

               <Separator Background="#FF3E3E42" Margin="10,20"/>

               <StackPanel Margin="15,0" VerticalAlignment="Bottom">
                   <TextBlock Text="Prof. James Wilson" Foreground="White" FontSize="12" HorizontalAlignment="Center"/>
                    <TextBlock Text="james.wilson@university.ac.za" Foreground="#FFADADAD" FontSize="10" HorizontalAlignment="Center" Margin="0,5"/>
                    <Button Content="Logout" Margin="0,20,0,10" Padding="10,5" 
                           Background="Transparent" Foreground="#FF4ECDC4" BorderThickness="0"
                           Click="btnLogout_Click"/>
               </StackPanel>
           </StackPanel>
       </Border>

       <!-- Main Content -->
       <Grid Margin="220,0,0,0">
           <DockPanel Background="#FF252526" VerticalAlignment="Top" Height="60">
               <TextBlock Text="REPORTS &amp; ANALYTICS" Foreground="White" FontSize="16" FontWeight="Bold" 
                          VerticalAlignment="Center" Margin="20,0"/>
           </DockPanel>

           <Grid Margin="20" VerticalAlignment="Top">
               <!-- Report Selection -->
               <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,30">
                   <ComboBox Width="200" Margin="5" Padding="10" SelectedIndex="0">
                       <ComboBoxItem>Monthly Claims Report</ComboBoxItem>
                       <ComboBoxItem>Lecturer Performance</ComboBoxItem>
                       <ComboBoxItem>Department Summary</ComboBoxItem>
                       <ComboBoxItem>Approval Timeline</ComboBoxItem>
                   </ComboBox>
                   <ComboBox Width="120" Margin="5" Padding="10" SelectedIndex="0">
                       <ComboBoxItem>January 2024</ComboBoxItem>
                       <ComboBoxItem>February 2024</ComboBoxItem>
                       <ComboBoxItem>March 2024</ComboBoxItem>
                       <ComboBoxItem>April 2024</ComboBoxItem>
                   </ComboBox>
                   <Button Content="Generate Report" Margin="5" Padding="15,8" 
                           Background="#FF4ECDC4" Foreground="Black" FontWeight="Bold"
                           Click="btnGenerateReport_Click"/>
                   <Button Content="Export PDF" Margin="5" Padding="15,8" 
                           Background="#FF1E90FF" Foreground="White" FontWeight="Bold"
                           Click="btnExportPDF_Click"/>
               </StackPanel>

               <!-- Report Preview -->
               <Border Background="#FF3E3E42" CornerRadius="5" Padding="15" Margin="0,80,0,0">
                   <StackPanel>
                       <TextBlock Text="Monthly Claims Summary - March 2024" Foreground="White" FontSize="14" FontWeight="Bold" Margin="0,0,0,15"/>

                       <!-- Summary Stats -->
                       <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
                           <Border Background="#FF505050" CornerRadius="5" Width="150" Height="80" Margin="10">
                               <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                   <TextBlock Text="24" Foreground="#FF4ECDC4" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center"/>
                                   <TextBlock Text="Total Claims" Foreground="White" FontSize="11" HorizontalAlignment="Center"/>
                               </StackPanel>
                           </Border>
                           <Border Background="#FF505050" CornerRadius="5" Width="150" Height="80" Margin="10">
                               <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                   <TextBlock Text="R 76,420.00" Foreground="#FF1E90FF" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>
                                   <TextBlock Text="Total Amount" Foreground="White" FontSize="11" HorizontalAlignment="Center"/>
                               </StackPanel>
                           </Border>
                           <Border Background="#FF505050" CornerRadius="5" Width="150" Height="80" Margin="10">
                               <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                   <TextBlock Text="18" Foreground="#FFDBAE1F" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center"/>
                                   <TextBlock Text="Approved" Foreground="White" FontSize="11" HorizontalAlignment="Center"/>
                               </StackPanel>
                           </Border>
                           <Border Background="#FF505050" CornerRadius="5" Width="150" Height="80" Margin="10">
                               <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                   <TextBlock Text="6" Foreground="#FFFF6B6B" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center"/>
                                   <TextBlock Text="Pending" Foreground="White" FontSize="11" HorizontalAlignment="Center"/>
                               </StackPanel>
                           </Border>
                       </WrapPanel>

                       <!-- Detailed Report Table -->
                       <DataGrid Name="dgReport" IsReadOnly="True" AutoGenerateColumns="False" 
                                 HeadersVisibility="Column" Background="#FF505050" BorderThickness="0" Height="200">
                           <DataGrid.Columns>
                               <DataGridTextColumn Header="Lecturer" Width="*" Binding="{Binding Lecturer}"/>
                               <DataGridTextColumn Header="Claims" Width="Auto" Binding="{Binding ClaimCount}"/>
                               <DataGridTextColumn Header="Total Hours" Width="Auto" Binding="{Binding TotalHours}"/>
                               <DataGridTextColumn Header="Total Amount" Width="Auto" Binding="{Binding TotalAmount}"/>
                               <DataGridTextColumn Header="Avg. Processing" Width="Auto" Binding="{Binding AvgProcessing}"/>
                           </DataGrid.Columns>
                       </DataGrid>
                   </StackPanel>
               </Border>
           </Grid>
       </Grid>
   </Grid>
</Window>